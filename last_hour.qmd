---
title: "Last Hour Observations"
execute:
  echo: false
---

```{python}
import pandas as pd
from datetime import datetime, timedelta
import matplotlib.pyplot as plt
from birdFunctions import *

selectedData = filterData(minLim = 60)

result = aggregateData(selectedData)

if len(result) > 0:

    for _, row in result.iterrows():
        print(f"{row['species']} â€” {row['count']}")

    stats = groupByMinute(selectedData)

    stats.plot(kind='bar', legend=False)
    plt.xlabel("Hour of Day")
    plt.ylabel("Observations")
    plt.title("Observations per Minute (Last hour)")
    plt.show()
else:
    print("No observations in the last hour")
```